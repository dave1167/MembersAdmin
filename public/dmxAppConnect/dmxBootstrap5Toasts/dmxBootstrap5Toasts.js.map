{"version":3,"sources":["core/toasts.js","actions/toasts.js","components/toasts.js"],"names":["dmx","bs5toast","defaults","iconType","position","align","offsetX","offsetY","zIndex","minWidth","maxWidth","animation","autohide","closable","delay","container","setup","options","Object","assign","document","createElement","body","appendChild","removeAttribute","style","setProperty","clear","textContent","show","node","create","toast","bootstrap","Toast","addEventListener","removeChild","once","className","setAttribute","icon","title","subtitle","header","innerHTML","alt","strong","small","button","type","message","Actions","this","parse","Component","attributes","String","default","enum","Number","methods","_clear","_show","init","props","performUpdate","updatedProps"],"mappings":"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","file":"dmxBootstrap5Toasts.js","sourcesContent":["dmx.bs5toast = {\r\n  defaults: {\r\n    iconType: 'image',\r\n    position: 'top',\r\n    align: 'right',\r\n    offsetX: 15,\r\n    offsetY: 15,\r\n    zIndex: 10000,\r\n    minWidth: 240,\r\n    maxWidth: 350,\r\n    animation: true,\r\n    autohide: true,\r\n    closable: true,\r\n    delay: 5000,\r\n  },\r\n\r\n  container: null,\r\n\r\n  setup (options) {\r\n    options = Object.assign(dmx.bs5toast.defaults, options);\r\n\r\n    if (!dmx.bs5toast.container) {\r\n      dmx.bs5toast.container = document.createElement('div');\r\n      document.body.appendChild(dmx.bs5toast.container);\r\n    }\r\n\r\n    const container = dmx.bs5toast.container;\r\n    container.removeAttribute('style');\r\n\r\n    container.style.setProperty('position', 'fixed');\r\n    container.style.setProperty('z-index', options.zIndex);\r\n    container.style.setProperty(options.align, options.offsetX + 'px');\r\n    container.style.setProperty(options.position, options.offsetY + 'px');\r\n    if (options.maxWidth) {\r\n      container.style.setProperty('max-width', options.maxWidth + 'px');\r\n    }\r\n  },\r\n\r\n  clear () {\r\n    if (dmx.bs5toast.container) {\r\n      dmx.bs5toast.container.textContent = '';\r\n    }\r\n  },\r\n\r\n  show (options) {\r\n    options = Object.assign({}, dmx.bs5toast.defaults, options);\r\n\r\n    if (!dmx.bs5toast.container) {\r\n      dmx.bs5toast.setup();\r\n    }\r\n\r\n    const node = dmx.bs5toast.create(options);\r\n    dmx.bs5toast.container.appendChild(node);\r\n\r\n    const toast = new bootstrap.Toast(node, options);\r\n    node.addEventListener('hidden.bs.toast', () => dmx.bs5toast.container.removeChild(node), { once: true });\r\n    toast.show();\r\n  },\r\n\r\n  create (options) {\r\n    const node = document.createElement('div');\r\n    node.className = 'toast';\r\n    node.setAttribute('role', 'alert');\r\n    node.setAttribute('aria-live', 'assertive');\r\n    node.setAttribute('aria-atomic', 'true');\r\n    node.setAttribute('data-delay', options.delay);\r\n\r\n    if (options.minWidth) {\r\n      node.style.setProperty('min-width', options.minWidth + 'px');\r\n    }\r\n\r\n    if (options.icon || options.title || options.subtitle || options.closable) {\r\n      const header = document.createElement('div');\r\n      header.className = 'toast-header';\r\n\r\n      if (options.icon) {\r\n        switch (options.iconType) {\r\n          case 'fontawesome':\r\n            header.innerHTML = `<i class=\"${options.icon} mr-2\"></i>`;\r\n            break;\r\n          default:\r\n            header.innerHTML = `<img src=\"${options.icon}\" height=\"20\" class=\"rounded mr-2\" alt=\"${options.alt || ''}\">`;\r\n            break;\r\n        }\r\n      }\r\n\r\n      if (options.title || options.subtitle || options.closable) {\r\n        const strong = document.createElement('strong');\r\n        strong.className = 'me-auto';\r\n        strong.textContent = options.title || '';\r\n        \r\n        header.appendChild(strong);\r\n      }\r\n\r\n      if (options.subtitle) {\r\n        const small = document.createElement('small');\r\n        small.className = 'text-muted';\r\n        small.textContent = options.subtitle;\r\n\r\n        header.appendChild(small);\r\n      }\r\n\r\n      if (options.closable) {\r\n        const button = document.createElement('button');\r\n        button.type = 'button';\r\n        button.className = 'btn-close';\r\n        button.setAttribute('data-bs-dismiss', 'toast');\r\n        button.setAttribute('aria-label', 'Close');\r\n        button.innerHTML = '<span aria-hidden=\"true\">&times;</span>';\r\n\r\n        header.appendChild(button);\r\n      }\r\n\r\n      node.appendChild(header);\r\n    }\r\n\r\n    if (options.message) {\r\n      const body = document.createElement('div');\r\n      body.className = 'toast-body';\r\n      body.textContent = options.message;\r\n\r\n      node.appendChild(body);\r\n    }\r\n    \r\n    return node;\r\n  },\r\n  \r\n};","dmx.Actions({\r\n\r\n  'toast.setup' (options) {\r\n    dmx.bs5toast.setup(this.parse(options));\r\n  },\r\n\r\n  'toast.show' (options) {\r\n    dmx.bs5toast.show(this.parse(options));\r\n  },\r\n\r\n  'toast.clear' () {\r\n    dmx.bs5toast.clear();\r\n  }\r\n\r\n});","dmx.Component('bs5-toasts', {\r\n\r\n  attributes: {\r\n    position: {\r\n      type: String,\r\n      default: 'top',\r\n      enum: ['top', 'bottom'],\r\n    },\r\n\r\n    align: {\r\n      type: String,\r\n      default: 'right',\r\n      enum: ['left', 'right'],\r\n    },\r\n\r\n    offsetX: {\r\n      type: Number,\r\n      default: 15,\r\n    },\r\n\r\n    offsetY: {\r\n      type: Number,\r\n      default: 15,\r\n    },\r\n\r\n    minWidth: {\r\n      type: Number,\r\n      default: 240,\r\n    },\r\n\r\n    maxWidth: {\r\n      type: Number,\r\n      default: 350,\r\n    },\r\n\r\n    zIndex: {\r\n      type: Number,\r\n      default: 10000,\r\n    },\r\n\r\n    delay: {\r\n      type: Number,\r\n      default: 5000,\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    clear () {\r\n      this._clear();\r\n    },\r\n\r\n    show (options) {\r\n      this._show(options);\r\n    }\r\n  },\r\n\r\n  init (node) {\r\n    dmx.bs5toast.setup(this.props);\r\n  },\r\n\r\n  performUpdate (updatedProps) {\r\n    dmx.bs5toast.setup(this.props);\r\n  },\r\n\r\n  _clear () {\r\n    dmx.bs5toast.clear();\r\n  },\r\n\r\n  _show (options) { // options: title, message, delay, closable\r\n    dmx.bs5toast.show(options);\r\n  }\r\n\r\n});"]}